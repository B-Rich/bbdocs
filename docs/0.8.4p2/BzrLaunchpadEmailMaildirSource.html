<html lang="en">
<head>
<title>BzrLaunchpadEmailMaildirSource - BuildBot Manual - 0.8.4p2</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="BuildBot Manual - 0.8.4p2">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Mail_002dparsing-ChangeSources.html#Mail_002dparsing-ChangeSources" title="Mail-parsing ChangeSources">
<link rel="prev" href="SVNCommitEmailMaildirSource.html#SVNCommitEmailMaildirSource" title="SVNCommitEmailMaildirSource">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the BuildBot manual for Buildbot version 0.8.4p2.

Copyright (C) 2005, 2006, 2009, 2010 Brian Warner

Copying and distribution of this file, with or without
modification, are permitted in any medium without royalty
provided the copyright notice and this notice are preserved.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>
<body>
<div class="node">
<a name="BzrLaunchpadEmailMaildirSource"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="SVNCommitEmailMaildirSource.html#SVNCommitEmailMaildirSource">SVNCommitEmailMaildirSource</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Mail_002dparsing-ChangeSources.html#Mail_002dparsing-ChangeSources">Mail-parsing ChangeSources</a>
<hr>
</div>

<h5 class="subsubsection">4.7.3.6 BzrLaunchpadEmailMaildirSource</h5>

<p><a name="index-buildbot_002echanges_002email_002eBzrLaunchpadEmailMaildirSource-44"></a>
<code>BzrLaunchpadEmailMaildirSource</code> parses the mails that are sent to
addresses that subscribe to branch revision notifications for a bzr branch
hosted on Launchpad.

   <p>The branch name defaults to <code>lp:&lt;Launchpad path&gt;</code>. For example
<code>lp:~maria-captains/maria/5.1</code>.

   <p>If only a single branch is used, the default branch name can be changed by
setting <code>defaultBranch</code>.

   <p>For multiple branches, pass a dictionary as the value of the <code>branchMap</code>
option to map specific repository paths to specific branch names (see example
below). The leading <code>lp:</code> prefix of the path is optional.

   <p>The <code>prefix</code> option is not supported (it is silently ignored). Use the
<code>branchMap</code> and <code>defaultBranch</code> instead to assign changes to
branches (and just do not subscribe the buildbot to branches that are not of
interest).

   <p>The revision number is obtained from the email text. The bzr revision id is
not available in the mails sent by Launchpad. However, it is possible to set
the bzr <code>append_revisions_only</code> option for public shared repositories to
avoid new pushes of merges changing the meaning of old revision numbers.

<pre class="verbatim">from buildbot.changes.mail import BzrLaunchpadEmailMaildirSource
bm = { 'lp:~maria-captains/maria/5.1' : '5.1', 'lp:~maria-captains/maria/6.0' : '6.0' }
c['change_source'] = BzrLaunchpadEmailMaildirSource("~/maildir-buildbot", branchMap = bm)
</pre>

   </body></html>

