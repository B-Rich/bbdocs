<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>buildbot.steps.python_twisted.Trial</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://buildbot.net/trac">BuildBot 0.8.1</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="buildbot-module.html">Package&nbsp;buildbot</a> ::
        <a href="buildbot.steps-module.html">Package&nbsp;steps</a> ::
        <a href="buildbot.steps.python_twisted-module.html">Module&nbsp;python_twisted</a> ::
        Class&nbsp;Trial
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="buildbot.steps.python_twisted.Trial-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class Trial</h1><p class="nomargin-top"><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial">source&nbsp;code</a></span></p>
<pre class="base-tree">
   <a href="buildbot.process.buildstep.BuildStep-class.html">process.buildstep.BuildStep</a> --+        
                                 |        
<a href="buildbot.process.buildstep.LoggingBuildStep-class.html">process.buildstep.LoggingBuildStep</a> --+    
                                     |    
                    <a href="buildbot.steps.shell.ShellCommand-class.html">shell.ShellCommand</a> --+
                                         |
                                        <strong class="uidshort">Trial</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li><a href="buildbot.process.process_twisted.TwistedTrial-class.html">process.process_twisted.TwistedTrial</a></li>  </ul>
</dd></dl>

<hr />
<p>I run a unit test suite using 'trial', a unittest-like testing 
  framework that comes with Twisted. Trial is used to implement Twisted's 
  own unit tests, and is the unittest-framework of choice for many projects
  that use Twisted internally.</p>
  <p>Projects that use trial typically have all their test cases in a 
  'test' subdirectory of their top-level library directory. I.e. for my 
  package 'petmail', the tests are in 'petmail/test/test_*.py'. More 
  complicated packages (like Twisted itself) may have multiple test 
  directories, like 'twisted/test/test_*.py' for the core functionality and
  'twisted/mail/test/test_*.py' for the email-specific tests.</p>
  <p>To run trial tests, you run the 'trial' executable and tell it where 
  the test cases are located. The most common way of doing this is with a 
  module name. For petmail, I would run 'trial petmail.test' and it would 
  locate all the test_*.py files under petmail/test/, running every test 
  case it could find in them. Unlike the unittest.py that comes with 
  Python, you do not run the test_foo.py as a script; you always let trial 
  do the importing and running. The 'tests' parameter controls which tests 
  trial will run: it can be a string or a list of strings.</p>
  <p>To find these test cases, you must set a PYTHONPATH that allows 
  something like 'import petmail.test' to work. For packages that don't use
  a separate top-level 'lib' directory, PYTHONPATH=. will work, and will 
  use the test cases (and the code they are testing) in-place. 
  PYTHONPATH=build/lib or PYTHONPATH=build/lib.$ARCH are also useful when 
  you do a'setup.py build' step first. The 'testpath' attribute of this 
  class controls what PYTHONPATH= is set to.</p>
  <p>Trial has the ability (through the --testmodule flag) to run only the 
  set of test cases named by special 'test-case-name' tags in source files.
  We can get the list of changed source files from our parent Build and 
  provide them to trial, thus running the minimal set of test cases needed 
  to cover the Changes. This is useful for quick builds, especially in 
  trees with a lot of test cases. The 'testChanges' parameter controls this
  feature: if set, it will override 'tests'.</p>
  <p>The trial executable itself is typically just 'trial' (which is 
  usually found on your $PATH as /usr/bin/trial), but it can be overridden 
  with the 'trial' parameter. This is useful for Twisted's own unittests, 
  which want to use the copy of bin/trial that comes with the sources. 
  (when bin/trial discovers that it is living in a subdirectory named 
  'Twisted', it assumes it is being run from the source tree and adds that 
  parent directory to PYTHONPATH. Therefore the canonical way to run 
  Twisted's own unittest suite is './bin/trial twisted.test' rather than 
  'PYTHONPATH=. /usr/bin/trial twisted.test', especially handy when 
  /usr/bin/trial has not yet been installed).</p>
  <p>To influence the version of python being used for the tests, or to add
  flags to the command, set the 'python' parameter. This can be a string 
  (like 'python2.2') or a list (like ['python2.3', '-Wall']).</p>
  <p>Trial creates and switches into a directory named _trial_temp/ before 
  running the tests, and sends the twisted log (which includes all 
  exceptions) to a file named test.log . This file will be pulled up to the
  master where it can be seen as part of the status output.</p>
  <p>There are some class attributes which may be usefully overridden by 
  subclasses. 'trialMode' and 'trialArgs' can influence the trial command 
  line.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">reactor</span>=<span class="summary-sig-default"><code class="variable-group">(</code><code class="variable-group">)</code></span>,
        <span class="summary-sig-arg">python</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">trial</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">testpath</span>=<span class="summary-sig-default"><code class="variable-group">(</code><code class="variable-group">)</code></span>,
        <span class="summary-sig-arg">tests</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">testChanges</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">recurse</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">randomly</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">trialMode</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">trialArgs</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#setupEnvironment" class="summary-sig-name">setupEnvironment</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.setupEnvironment">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#start" class="summary-sig-name">start</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Begin the step.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.start">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#commandComplete" class="summary-sig-name">commandComplete</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>)</span><br />
      This is a general-purpose hook method for subclasses.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.commandComplete">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="rtext"></a><span class="summary-sig-name">rtext</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fmt</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">%s</code><code class="variable-quote">'</code></span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.rtext">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="addTestResult"></a><span class="summary-sig-name">addTestResult</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">testname</span>,
        <span class="summary-sig-arg">results</span>,
        <span class="summary-sig-arg">text</span>,
        <span class="summary-sig-arg">tlog</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.addTestResult">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#createSummary" class="summary-sig-name">createSummary</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">loog</span>)</span><br />
      To create summary logs, do something like this: warnings = 
      grep('^Warning:', log.getText()) self.addCompleteLog('warnings', 
      warnings)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.createSummary">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#evaluateCommand" class="summary-sig-name">evaluateCommand</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>)</span><br />
      Decide whether the command was SUCCESS, WARNINGS, or FAILURE.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.evaluateCommand">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#getText" class="summary-sig-name">getText</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">results</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.getText">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.steps.python_twisted.Trial-class.html#getText2" class="summary-sig-name">getText2</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">results</span>)</span><br />
      We have decided to add a short note about ourselves to the overall 
      build description, probably because something went wrong.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.getText2">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.steps.shell.ShellCommand-class.html">shell.ShellCommand</a></code></b>:
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#checkForOldSlaveAndLogfiles">checkForOldSlaveAndLogfiles</a></code>,
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#describe">describe</a></code>,
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#setCommand">setCommand</a></code>,
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#setDefaultWorkdir">setDefaultWorkdir</a></code>,
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#setStepStatus">setStepStatus</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html">process.buildstep.LoggingBuildStep</a></code></b>:
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#addLogFile">addLogFile</a></code>,
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#checkDisconnect">checkDisconnect</a></code>,
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#interrupt">interrupt</a></code>,
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#maybeGetText2">maybeGetText2</a></code>,
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#setStatus">setStatus</a></code>,
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#setupLogfiles">setupLogfiles</a></code>,
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#startCommand">startCommand</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.process.buildstep.BuildStep-class.html">process.buildstep.BuildStep</a></code></b>:
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#acquireLocks">acquireLocks</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#addCompleteLog">addCompleteLog</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#addFactoryArguments">addFactoryArguments</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#addHTMLLog">addHTMLLog</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#addLog">addLog</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#addLogObserver">addLogObserver</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#addURL">addURL</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#failed">failed</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#finished">finished</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#getLog">getLog</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#getProperty">getProperty</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#getSlaveName">getSlaveName</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#getStepFactory">getStepFactory</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#releaseLocks">releaseLocks</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#runCommand">runCommand</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#setBuild">setBuild</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#setBuildSlave">setBuildSlave</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#setProgress">setProgress</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#setProperty">setProperty</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#setupProgress">setupProgress</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#slaveVersion">slaveVersion</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#slaveVersionIsOlderThan">slaveVersionIsOlderThan</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#startStep">startStep</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="name"></a><span class="summary-name">name</span> = <code title="'trial'"><code class="variable-quote">'</code><code class="variable-string">trial</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="progressMetrics"></a><span class="summary-name">progressMetrics</span> = <code title="('output', 'tests', 'test.log')"><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">output</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">tests</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">test.log</code><code class="variable-quote">'</code><code class="variable-group">)</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="logfiles"></a><span class="summary-name">logfiles</span> = <code title="{'test.log': '_trial_temp/test.log'}"><code class="variable-group">{</code><code class="variable-quote">'</code><code class="variable-string">test.log</code><code class="variable-quote">'</code><code class="variable-op">: </code><code class="variable-quote">'</code><code class="variable-string">_trial_temp/test.log</code><code class="variable-quote">'</code><code class="variable-group">}</code></code><br />
      a dict mapping log NAMEs to workdir-relative FILENAMEs of their 
      corresponding logfiles.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="flunkOnFailure"></a><span class="summary-name">flunkOnFailure</span> = <code title="True">True</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="python"></a><span class="summary-name">python</span> = <code title="None">None</code><br />
      hash(x)
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="trial"></a><span class="summary-name">trial</span> = <code title="'trial'"><code class="variable-quote">'</code><code class="variable-string">trial</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="trialMode"></a><span class="summary-name">trialMode</span> = <code title="['--reporter=bwverbose']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">--reporter=bwverbose</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="trialArgs"></a><span class="summary-name">trialArgs</span> = <code title="[]"><code class="variable-group">[</code><code class="variable-group">]</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="testpath"></a><span class="summary-name">testpath</span> = <code title="()"><code class="variable-group">(</code><code class="variable-group">)</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="testChanges"></a><span class="summary-name">testChanges</span> = <code title="False">False</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="recurse"></a><span class="summary-name">recurse</span> = <code title="False">False</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="reactor"></a><span class="summary-name">reactor</span> = <code title="None">None</code><br />
      hash(x)
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="randomly"></a><span class="summary-name">randomly</span> = <code title="False">False</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="tests"></a><span class="summary-name">tests</span> = <code title="None">None</code><br />
      hash(x)
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.steps.shell.ShellCommand-class.html">shell.ShellCommand</a></code></b>:
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#description">description</a></code>,
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#descriptionDone">descriptionDone</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html">process.buildstep.LoggingBuildStep</a></code></b>:
      <code><a href="buildbot.process.buildstep.LoggingBuildStep-class.html#parms">parms</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.process.buildstep.BuildStep-class.html">process.buildstep.BuildStep</a></code></b>:
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#alwaysRun">alwaysRun</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#doStepIf">doStepIf</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#flunkOnWarnings">flunkOnWarnings</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#haltOnFailure">haltOnFailure</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#locks">locks</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#useProgress">useProgress</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#warnOnFailure">warnOnFailure</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#warnOnWarnings">warnOnWarnings</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Variables</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.steps.shell.ShellCommand-class.html">shell.ShellCommand</a></code></b>:
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#command">command</a></code>,
      <code><a href="buildbot.steps.shell.ShellCommand-class.html#lazylogfiles">lazylogfiles</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.process.buildstep.BuildStep-class.html">process.buildstep.BuildStep</a></code></b>:
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#build">build</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#progress">progress</a></code>,
      <code><a href="buildbot.process.buildstep.BuildStep-class.html#step_status">step_status</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">reactor</span>=<span class="sig-default"><code class="variable-group">(</code><code class="variable-group">)</code></span>,
        <span class="sig-arg">python</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">trial</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">testpath</span>=<span class="sig-default"><code class="variable-group">(</code><code class="variable-group">)</code></span>,
        <span class="sig-arg">tests</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">testChanges</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">recurse</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">randomly</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">trialMode</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">trialArgs</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">**kwargs</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>testpath</code></strong> (string) - use in PYTHONPATH when running the tests. If None, do not set 
          PYTHONPATH. Setting this to '.' will cause the source files to be
          used in-place.</li>
        <li><strong class="pname"><code>python</code></strong> (string (without spaces) or list) - which python executable to use. Will form the start of the argv 
          array that will launch trial. If you use this, you should set 
          'trial' to an explicit path (like /usr/bin/trial or ./bin/trial).
          Defaults to None, which leaves it out entirely (running 'trial 
          args' instead of 'python ./bin/trial args'). Likely values are 
          'python', ['python2.2'], ['python', '-Wall'], etc.</li>
        <li><strong class="pname"><code>trial</code></strong> (string) - which 'trial' executable to run. Defaults to 'trial', which will 
          cause $PATH to be searched and probably find /usr/bin/trial . If 
          you set 'python', this should be set to an explicit path (because
          'python2.3 trial' will not work).</li>
        <li><strong class="pname"><code>trialMode</code></strong> (list of strings) - a list of arguments to pass to trial, specifically to set the 
          reporting mode. This defaults to ['-to'] which means 'verbose 
          colorless output' to the trial that comes with Twisted-2.0.x and 
          at least -2.1.0 . Newer versions of Twisted may come with a trial
          that prefers ['--reporter=bwverbose'].</li>
        <li><strong class="pname"><code>trialArgs</code></strong> (list of strings) - a list of arguments to pass to trial, available to turn on any 
          extra flags you like. Defaults to [].</li>
        <li><strong class="pname"><code>tests</code></strong> (list of strings) - a list of test modules to run, like ['twisted.test.test_defer', 
          'twisted.test.test_process']. If this is a string, it will be 
          converted into a one-item list.</li>
        <li><strong class="pname"><code>testChanges</code></strong> (boolean) - if True, ignore the 'tests' parameter and instead ask the Build 
          for all the files that make up the Changes going into this build.
          Pass these filenames to trial and ask it to look for 
          test-case-name tags, running just the tests necessary to cover 
          the changes.</li>
        <li><strong class="pname"><code>recurse</code></strong> (boolean) - If True, pass the --recurse option to trial, allowing test cases 
          to be found in deeper subdirectories of the modules listed in 
          'tests'. This does not appear to be necessary when using 
          testChanges.</li>
        <li><strong class="pname"><code>reactor</code></strong> (string) - which reactor to use, like 'gtk' or 'java'. If not provided, the 
          Twisted's usual platform-dependent default is used.</li>
        <li><strong class="pname"><code>randomly</code></strong> (boolean) - if True, add the --random=0 argument, which instructs trial to 
          run the unit tests in a random order each time. This occasionally
          catches problems that might be masked when one module always runs
          before another (like failing to make registerAdapter calls before
          lookups are done).</li>
        <li><strong class="pname"><code>kwargs</code></strong> (dict) - parameters. The following parameters are inherited from <a 
          href="buildbot.steps.shell.ShellCommand-class.html" 
          class="link">ShellCommand</a> and may be useful to set: workdir, 
          haltOnFailure, flunkOnWarnings, flunkOnFailure, warnOnWarnings, 
          warnOnFailure, want_stdout, want_stderr, timeout.</li>
    </ul></dd>
    <dt>Overrides:
        <a href="buildbot.process.buildstep.BuildStep-class.html#__init__">process.buildstep.BuildStep.__init__</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="setupEnvironment"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">setupEnvironment</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.setupEnvironment">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.steps.shell.ShellCommand-class.html#setupEnvironment">shell.ShellCommand.setupEnvironment</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="start"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">start</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.start">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Begin the step. Override this method and add code to do local 
  processing, fire off remote commands, etc.</p>
  <p>To spawn a command in the buildslave, create a RemoteCommand instance 
  and run it with self.runCommand:</p>
<pre class="literalblock">
 c = RemoteCommandFoo(args)
 d = self.runCommand(c)
 d.addCallback(self.fooDone).addErrback(self.failed)
</pre>
  <p>As the step runs, it should send status information to the 
  BuildStepStatus:</p>
<pre class="literalblock">
 self.step_status.setText(['compile', 'failed'])
 self.step_status.setText2(['4', 'warnings'])
</pre>
  <p>To have some code parse stdio (or other log stream) in realtime, add a
  LogObserver subclass. This observer can use self.step.setProgress() to 
  provide better progress notification to the step.:</p>
<pre class="literalblock">
 self.addLogObserver('stdio', MyLogObserver())
</pre>
  <p>To add a LogFile, use self.addLog. Make sure it gets closed when it 
  finishes. When giving a Logfile to a RemoteShellCommand, just ask it to 
  close the log when the command completes:</p>
<pre class="literalblock">
 log = self.addLog('output')
 cmd = RemoteShellCommand(args)
 cmd.useLog(log, closeWhenFinished=True)
</pre>
  <p>You can also create complete Logfiles with generated text in a single 
  step:</p>
<pre class="literalblock">
 self.addCompleteLog('warnings', text)
</pre>
  <p>When the step is done, it should call self.finished(result). 'result' 
  will be provided to the <a href="buildbot.process.base.Build-class.html" 
  class="link">buildbot.process.base.Build</a>, and should be one of the 
  constants defined above: SUCCESS, WARNINGS, FAILURE, or SKIPPED.</p>
  <p>If the step encounters an exception, it should call self.failed(why). 
  'why' should be a Failure object. This automatically fails the whole 
  build with an exception. It is a good idea to add self.failed as an 
  errback to any Deferreds you might obtain.</p>
  <p>If the step decides it does not need to be run, start() can return the
  constant SKIPPED. This fires the callback immediately: it is not 
  necessary to call .finished yourself. This can also indicate to the 
  status-reporting mechanism that this step should not be displayed.</p>
  <p>A step can be configured to only run under certain conditions.  To do 
  this, set the step's doStepIf to a boolean value, or to a function that 
  returns a boolean value.  If the value or function result is False, then 
  the step will return SKIPPED without doing anything, otherwise the step 
  will be executed normally.  If you set doStepIf to a function, that 
  function should accept one parameter, which will be the Step object 
  itself.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.process.buildstep.BuildStep-class.html#start">process.buildstep.BuildStep.start</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="commandComplete"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">commandComplete</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.commandComplete">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is a general-purpose hook method for subclasses. It will be 
  called after the remote command has finished, but before any of the other
  hook functions are called.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.process.buildstep.LoggingBuildStep-class.html#commandComplete">process.buildstep.LoggingBuildStep.commandComplete</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="createSummary"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">createSummary</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">loog</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.createSummary">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>To create summary logs, do something like this: warnings = 
  grep('^Warning:', log.getText()) self.addCompleteLog('warnings', 
  warnings)</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.process.buildstep.LoggingBuildStep-class.html#createSummary">process.buildstep.LoggingBuildStep.createSummary</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="evaluateCommand"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">evaluateCommand</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmd</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.evaluateCommand">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Decide whether the command was SUCCESS, WARNINGS, or FAILURE. Override
  this to, say, declare WARNINGS if there is any stderr activity, or to say
  that rc!=0 is not actually an error.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.process.buildstep.LoggingBuildStep-class.html#evaluateCommand">process.buildstep.LoggingBuildStep.evaluateCommand</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="getText"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getText</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmd</span>,
        <span class="sig-arg">results</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.getText">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.process.buildstep.LoggingBuildStep-class.html#getText">process.buildstep.LoggingBuildStep.getText</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="getText2"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getText2</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">cmd</span>,
        <span class="sig-arg">results</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.steps.python_twisted-pysrc.html#Trial.getText2">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>We have decided to add a short note about ourselves to the overall 
  build description, probably because something went wrong. Return a short 
  list of short strings. If your subclass counts test failures or warnings 
  of some sort, this is a good place to announce the count.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.process.buildstep.LoggingBuildStep-class.html#getText2">process.buildstep.LoggingBuildStep.getText2</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://buildbot.net/trac">BuildBot 0.8.1</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed Jul  7 10:07:05 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
