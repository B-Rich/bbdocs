<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>buildbot.process.buildstep.RemoteCommand</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
<!-- GA-TRACKING-START -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{
var pageTracker = _gat._getTracker("UA-12313843-4");
pageTracker._setDomainName("none");
pageTracker._setAllowLinker(true);
pageTracker._trackPageview();
} catch(err) {}
</script>
<!-- GA-TRACKING-END -->
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://buildbot.net/trac">BuildBot 0.8.1</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="buildbot-module.html">Package&nbsp;buildbot</a> ::
        <a href="buildbot.process-module.html">Package&nbsp;process</a> ::
        <a href="buildbot.process.buildstep-module.html">Module&nbsp;buildstep</a> ::
        Class&nbsp;RemoteCommand
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="buildbot.process.buildstep.RemoteCommand-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class RemoteCommand</h1><p class="nomargin-top"><span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand">source&nbsp;code</a></span></p>
<pre class="base-tree">
 twisted.spread.jelly.Jellyable --+        
                                  |        
twisted.spread.flavors.Serializable --+    
                                      |    
   twisted.spread.flavors.Referenceable --+
                                          |
                                         <strong class="uidshort">RemoteCommand</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li><a href="buildbot.process.buildstep.LoggedRemoteCommand-class.html">LoggedRemoteCommand</a></li><li>, <a href="buildbot.steps.transfer.StatusRemoteCommand-class.html">steps.transfer.StatusRemoteCommand</a></li><li>, <a href="buildbot.steps.shell.SilentRemoteCommand-class.html">steps.shell.SilentRemoteCommand</a></li>  </ul>
</dd></dl>

<hr />
<p>I represent a single command to be run on the slave. I handle the 
  details of reliably gathering status updates from the slave 
  (acknowledging each), and (eventually, in a future release) recovering 
  from interrupted builds. This is the master-side object that is known to 
  the slave-side <code class="link">buildbot.slave.bot.SlaveBuilder</code>,
  to which status updates are sent.</p>
  <p>My command should be started by calling .run(), which returns a 
  Deferred that will fire when the command has finished, or will errback if
  an exception is raised.</p>
  <p>Typically __init__ or run() will set up self.remote_command to be a 
  string which corresponds to one of the SlaveCommands registered in the 
  buildslave, and self.args to a dictionary of arguments that will be 
  passed to the SlaveCommand instance.</p>
  <p>start, remoteUpdate, and remoteComplete are available to be 
  overridden</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.process.buildstep.RemoteCommand-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">remote_command</span>,
        <span class="summary-sig-arg">args</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="run"></a><span class="summary-sig-name">run</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">step</span>,
        <span class="summary-sig-arg">remote</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.run">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code class="link">twisted.internet.defer.Deferred</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.process.buildstep.RemoteCommand-class.html#start" class="summary-sig-name">start</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Tell the slave to start executing the remote command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.start">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="interrupt"></a><span class="summary-sig-name">interrupt</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">why</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.interrupt">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.process.buildstep.RemoteCommand-class.html#remote_update" class="summary-sig-name">remote_update</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">updates</span>)</span><br />
      I am called by the slave's <code 
      class="link">buildbot.slave.bot.SlaveBuilder</code> so I can receive 
      updates from the running remote command.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.remote_update">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="remoteUpdate"></a><span class="summary-sig-name">remoteUpdate</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">update</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.remoteUpdate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.process.buildstep.RemoteCommand-class.html#remote_complete" class="summary-sig-name">remote_complete</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">failure</span>=<span class="summary-sig-default">None</span>)</span><br />
      Called by the slave's <code 
      class="link">buildbot.slave.bot.SlaveBuilder</code> to notify me the 
      remote command has finished.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.remote_complete">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.process.buildstep.RemoteCommand-class.html#remoteComplete" class="summary-sig-name">remoteComplete</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">maybeFailure</span>)</span><br />
      Subclasses can override this.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.remoteComplete">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>twisted.spread.flavors.Referenceable</code></b>:
      <code>jellyFor</code>,
      <code>remoteMessageReceived</code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>twisted.spread.flavors.Serializable</code></b>:
      <code>processUniqueID</code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>twisted.spread.jelly.Jellyable</code></b>:
      <code>__providedBy__</code>,
      <code>getStateFor</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of one int</span>
    </td><td class="summary">
        <a name="commandCounter"></a><span class="summary-name">commandCounter</span> = <code title="[0]"><code class="variable-group">[</code>0<code class="variable-group">]</code></code><br />
      provides a unique value for each RemoteCommand executed across all 
      slaves
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>twisted.spread.flavors.Referenceable</code></b>:
      <code>__implemented__</code>,
      <code>__provides__</code>,
      <code>perspective</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE VARIABLES ==================== -->
<a name="section-InstanceVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">boolean</span>
    </td><td class="summary">
        <a name="active"></a><span class="summary-name">active</span> = <code title="False">False</code><br />
      whether the command is currently running
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">remote_command</span>,
        <span class="sig-arg">args</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>remote_command</code></strong> (string) - remote command to start.  This will be passed to <code 
          class="link">buildbot.slave.bot.SlaveBuilder.remote_startCommand</code>
          and needs to have been registered slave-side by <code 
          class="link">buildbot.slave.registry.registerSlaveCommand</code></li>
        <li><strong class="pname"><code>args</code></strong> (dict) - arguments to send to the remote command</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="start"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">start</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.start">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Tell the slave to start executing the remote command.</p>
  <dl class="fields">
    <dt>Returns: <code class="link">twisted.internet.defer.Deferred</code></dt>
        <dd>a deferred that will fire when the remote command is done (with 
          None as the result)</dd>
  </dl>
</td></tr></table>
</div>
<a name="remote_update"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">remote_update</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">updates</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.remote_update">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>I am called by the slave's <code 
  class="link">buildbot.slave.bot.SlaveBuilder</code> so I can receive 
  updates from the running remote command.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>updates</code></strong> (list of [object, int]) - list of updates from the remote command</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="remote_complete"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">remote_complete</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">failure</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.remote_complete">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called by the slave's <code 
  class="link">buildbot.slave.bot.SlaveBuilder</code> to notify me the 
  remote command has finished.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>failure</code></strong> (<code class="link">twisted.python.failure.Failure</code> or None)</li>
    </ul></dd>
    <dt>Returns: None</dt>
  </dl>
</td></tr></table>
</div>
<a name="remoteComplete"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">remoteComplete</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">maybeFailure</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.process.buildstep-pysrc.html#RemoteCommand.remoteComplete">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Subclasses can override this.</p>
  <p>This is called when the RemoteCommand has finished. 'maybeFailure' 
  will be None if the command completed normally, or a Failure instance in 
  one of the following situations:</p>
  <ul>
    <li>
      the slave was lost before the command was started
    </li>
    <li>
      the slave didn't respond to the startCommand message
    </li>
    <li>
      the slave raised an exception while starting the command (bad command
      name, bad args, OSError from missing executable)
    </li>
    <li>
      the slave raised an exception while finishing the command (they send 
      back a remote_complete message with a Failure payload)
    </li>
  </ul>
  <p>and also (for now):</p>
  <ul>
    <li>
      slave disconnected while the command was running
    </li>
  </ul>
  <p>This method should do cleanup, like closing log files. It should 
  normally return the 'failure' argument, so that any exceptions will be 
  propagated to the Step. If it wants to consume them, return None 
  instead.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://buildbot.net/trac">BuildBot 0.8.1</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed Jul  7 10:07:04 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
